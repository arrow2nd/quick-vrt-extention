var KN,z,bN,I0,h,IN,EN,fN,VN,LN,$N,BN,w0,a={},cN=[],d0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,r=Array.isArray;function m(N,Q){for(var Z in Q)N[Z]=Q[Z];return N}function RN(N){N&&N.parentNode&&N.parentNode.removeChild(N)}function i(N,Q,Z){var J,K,F,O={};for(F in Q)F=="key"?J=Q[F]:F=="ref"?K=Q[F]:O[F]=Q[F];if(arguments.length>2&&(O.children=arguments.length>3?KN.call(arguments,2):Z),typeof N=="function"&&N.defaultProps!=null)for(F in N.defaultProps)O[F]===void 0&&(O[F]=N.defaultProps[F]);return ZN(N,O,J,K,null)}function ZN(N,Q,Z,J,K){var F={type:N,props:Q,key:Z,ref:J,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:K==null?++bN:K,__i:-1,__u:0};return K==null&&z.vnode!=null&&z.vnode(F),F}function p(N){return N.children}function c(N,Q){this.props=N,this.context=Q}function s(N,Q){if(Q==null)return N.__?s(N.__,N.__i+1):null;for(var Z;Q<N.__k.length;Q++)if((Z=N.__k[Q])!=null&&Z.__e!=null)return Z.__e;return typeof N.type=="function"?s(N):null}function pN(N){var Q,Z;if((N=N.__)!=null&&N.__c!=null){for(N.__e=N.__c.base=null,Q=0;Q<N.__k.length;Q++)if((Z=N.__k[Q])!=null&&Z.__e!=null){N.__e=N.__c.base=Z.__e;break}return pN(N)}}function wN(N){(!N.__d&&(N.__d=!0)&&h.push(N)&&!JN.__r++||IN!=z.debounceRendering)&&((IN=z.debounceRendering)||EN)(JN)}function JN(){for(var N,Q,Z,J,K,F,O,X=1;h.length;)h.length>X&&h.sort(fN),N=h.shift(),X=h.length,N.__d&&(Z=void 0,K=(J=(Q=N).__v).__e,F=[],O=[],Q.__P&&((Z=m({},J)).__v=J.__v+1,z.vnode&&z.vnode(Z),WN(Q.__P,Z,J,Q.__n,Q.__P.namespaceURI,32&J.__u?[K]:null,F,K==null?s(J):K,!!(32&J.__u),O),Z.__v=J.__v,Z.__.__k[Z.__i]=Z,mN(F,Z,O),Z.__e!=K&&pN(Z)));JN.__r=0}function DN(N,Q,Z,J,K,F,O,X,$,Y,R){var G,B,L,U,H,_,A=J&&J.__k||cN,M=Q.length;for($=y0(Z,Q,A,$,M),G=0;G<M;G++)(L=Z.__k[G])!=null&&(B=L.__i==-1?a:A[L.__i]||a,L.__i=G,_=WN(N,L,B,K,F,O,X,$,Y,R),U=L.__e,L.ref&&B.ref!=L.ref&&(B.ref&&UN(B.ref,null,L),R.push(L.ref,L.__c||U,L)),H==null&&U!=null&&(H=U),4&L.__u||B.__k===L.__k?$=jN(L,$,N):typeof L.type=="function"&&_!==void 0?$=_:U&&($=U.nextSibling),L.__u&=-7);return Z.__e=H,$}function y0(N,Q,Z,J,K){var F,O,X,$,Y,R=Z.length,G=R,B=0;for(N.__k=new Array(K),F=0;F<K;F++)(O=Q[F])!=null&&typeof O!="boolean"&&typeof O!="function"?($=F+B,(O=N.__k[F]=typeof O=="string"||typeof O=="number"||typeof O=="bigint"||O.constructor==String?ZN(null,O,null,null,null):r(O)?ZN(p,{children:O},null,null,null):O.constructor==null&&O.__b>0?ZN(O.type,O.props,O.key,O.ref?O.ref:null,O.__v):O).__=N,O.__b=N.__b+1,X=null,(Y=O.__i=b0(O,Z,$,G))!=-1&&(G--,(X=Z[Y])&&(X.__u|=2)),X==null||X.__v==null?(Y==-1&&(K>R?B--:K<R&&B++),typeof O.type!="function"&&(O.__u|=4)):Y!=$&&(Y==$-1?B--:Y==$+1?B++:(Y>$?B--:B++,O.__u|=4))):N.__k[F]=null;if(G)for(F=0;F<R;F++)(X=Z[F])!=null&&(2&X.__u)==0&&(X.__e==J&&(J=s(X)),hN(X,X));return J}function jN(N,Q,Z){var J,K;if(typeof N.type=="function"){for(J=N.__k,K=0;J&&K<J.length;K++)J[K]&&(J[K].__=N,Q=jN(J[K],Q,Z));return Q}N.__e!=Q&&(Q&&N.type&&!Z.contains(Q)&&(Q=s(N)),Z.insertBefore(N.__e,Q||null),Q=N.__e);do Q=Q&&Q.nextSibling;while(Q!=null&&Q.nodeType==8);return Q}function u(N,Q){return Q=Q||[],N==null||typeof N=="boolean"||(r(N)?N.some(function(Z){u(Z,Q)}):Q.push(N)),Q}function b0(N,Q,Z,J){var K,F,O=N.key,X=N.type,$=Q[Z];if($===null&&N.key==null||$&&O==$.key&&X==$.type&&(2&$.__u)==0)return Z;if(J>($!=null&&(2&$.__u)==0?1:0))for(K=Z-1,F=Z+1;K>=0||F<Q.length;){if(K>=0){if(($=Q[K])&&(2&$.__u)==0&&O==$.key&&X==$.type)return K;K--}if(F<Q.length){if(($=Q[F])&&(2&$.__u)==0&&O==$.key&&X==$.type)return F;F++}}return-1}function dN(N,Q,Z){Q[0]=="-"?N.setProperty(Q,Z==null?"":Z):N[Q]=Z==null?"":typeof Z!="number"||d0.test(Q)?Z:Z+"px"}function QN(N,Q,Z,J,K){var F,O;N:if(Q=="style")if(typeof Z=="string")N.style.cssText=Z;else{if(typeof J=="string"&&(N.style.cssText=J=""),J)for(Q in J)Z&&Q in Z||dN(N.style,Q,"");if(Z)for(Q in Z)J&&Z[Q]==J[Q]||dN(N.style,Q,Z[Q])}else if(Q[0]=="o"&&Q[1]=="n")F=Q!=(Q=Q.replace(VN,"$1")),O=Q.toLowerCase(),Q=O in N||Q=="onFocusOut"||Q=="onFocusIn"?O.slice(2):Q.slice(2),N.l||(N.l={}),N.l[Q+F]=Z,Z?J?Z.u=J.u:(Z.u=LN,N.addEventListener(Q,F?BN:$N,F)):N.removeEventListener(Q,F?BN:$N,F);else{if(K=="http://www.w3.org/2000/svg")Q=Q.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(Q!="width"&&Q!="height"&&Q!="href"&&Q!="list"&&Q!="form"&&Q!="tabIndex"&&Q!="download"&&Q!="rowSpan"&&Q!="colSpan"&&Q!="role"&&Q!="popover"&&Q in N)try{N[Q]=Z==null?"":Z;break N}catch(X){}typeof Z=="function"||(Z==null||Z===!1&&Q[4]!="-"?N.removeAttribute(Q):N.setAttribute(Q,Q=="popover"&&Z==1?"":Z))}}function yN(N){return function(Q){if(this.l){var Z=this.l[Q.type+N];if(Q.t==null)Q.t=LN++;else if(Q.t<Z.u)return;return Z(z.event?z.event(Q):Q)}}}function WN(N,Q,Z,J,K,F,O,X,$,Y){var R,G,B,L,U,H,_,A,M,v,C,E,y,f,V,D,x,S=Q.type;if(Q.constructor!=null)return null;128&Z.__u&&($=!!(32&Z.__u),F=[X=Q.__e=Z.__e]),(R=z.__b)&&R(Q);N:if(typeof S=="function")try{if(A=Q.props,M="prototype"in S&&S.prototype.render,v=(R=S.contextType)&&J[R.__c],C=R?v?v.props.value:R.__:J,Z.__c?_=(G=Q.__c=Z.__c).__=G.__E:(M?Q.__c=G=new S(A,C):(Q.__c=G=new c(A,C),G.constructor=S,G.render=f0),v&&v.sub(G),G.props=A,G.state||(G.state={}),G.context=C,G.__n=J,B=G.__d=!0,G.__h=[],G._sb=[]),M&&G.__s==null&&(G.__s=G.state),M&&S.getDerivedStateFromProps!=null&&(G.__s==G.state&&(G.__s=m({},G.__s)),m(G.__s,S.getDerivedStateFromProps(A,G.__s))),L=G.props,U=G.state,G.__v=Q,B)M&&S.getDerivedStateFromProps==null&&G.componentWillMount!=null&&G.componentWillMount(),M&&G.componentDidMount!=null&&G.__h.push(G.componentDidMount);else{if(M&&S.getDerivedStateFromProps==null&&A!==L&&G.componentWillReceiveProps!=null&&G.componentWillReceiveProps(A,C),!G.__e&&G.shouldComponentUpdate!=null&&G.shouldComponentUpdate(A,G.__s,C)===!1||Q.__v==Z.__v){for(Q.__v!=Z.__v&&(G.props=A,G.state=G.__s,G.__d=!1),Q.__e=Z.__e,Q.__k=Z.__k,Q.__k.some(function(j){j&&(j.__=Q)}),E=0;E<G._sb.length;E++)G.__h.push(G._sb[E]);G._sb=[],G.__h.length&&O.push(G);break N}G.componentWillUpdate!=null&&G.componentWillUpdate(A,G.__s,C),M&&G.componentDidUpdate!=null&&G.__h.push(function(){G.componentDidUpdate(L,U,H)})}if(G.context=C,G.props=A,G.__P=N,G.__e=!1,y=z.__r,f=0,M){for(G.state=G.__s,G.__d=!1,y&&y(Q),R=G.render(G.props,G.state,G.context),V=0;V<G._sb.length;V++)G.__h.push(G._sb[V]);G._sb=[]}else do G.__d=!1,y&&y(Q),R=G.render(G.props,G.state,G.context),G.state=G.__s;while(G.__d&&++f<25);G.state=G.__s,G.getChildContext!=null&&(J=m(m({},J),G.getChildContext())),M&&!B&&G.getSnapshotBeforeUpdate!=null&&(H=G.getSnapshotBeforeUpdate(L,U)),D=R,R!=null&&R.type===p&&R.key==null&&(D=xN(R.props.children)),X=DN(N,r(D)?D:[D],Q,Z,J,K,F,O,X,$,Y),G.base=Q.__e,Q.__u&=-161,G.__h.length&&O.push(G),_&&(G.__E=G.__=null)}catch(j){if(Q.__v=null,$||F!=null)if(j.then){for(Q.__u|=$?160:128;X&&X.nodeType==8&&X.nextSibling;)X=X.nextSibling;F[F.indexOf(X)]=null,Q.__e=X}else for(x=F.length;x--;)RN(F[x]);else Q.__e=Z.__e,Q.__k=Z.__k;z.__e(j,Q,Z)}else F==null&&Q.__v==Z.__v?(Q.__k=Z.__k,Q.__e=Z.__e):X=Q.__e=E0(Z.__e,Q,Z,J,K,F,O,$,Y);return(R=z.diffed)&&R(Q),128&Q.__u?void 0:X}function mN(N,Q,Z){for(var J=0;J<Z.length;J++)UN(Z[J],Z[++J],Z[++J]);z.__c&&z.__c(Q,N),N.some(function(K){try{N=K.__h,K.__h=[],N.some(function(F){F.call(K)})}catch(F){z.__e(F,K.__v)}})}function xN(N){return typeof N!="object"||N==null||N.__b&&N.__b>0?N:r(N)?N.map(xN):m({},N)}function E0(N,Q,Z,J,K,F,O,X,$){var Y,R,G,B,L,U,H,_=Z.props,A=Q.props,M=Q.type;if(M=="svg"?K="http://www.w3.org/2000/svg":M=="math"?K="http://www.w3.org/1998/Math/MathML":K||(K="http://www.w3.org/1999/xhtml"),F!=null){for(Y=0;Y<F.length;Y++)if((L=F[Y])&&"setAttribute"in L==!!M&&(M?L.localName==M:L.nodeType==3)){N=L,F[Y]=null;break}}if(N==null){if(M==null)return document.createTextNode(A);N=document.createElementNS(K,M,A.is&&A),X&&(z.__m&&z.__m(Q,F),X=!1),F=null}if(M==null)_===A||X&&N.data==A||(N.data=A);else{if(F=F&&KN.call(N.childNodes),_=Z.props||a,!X&&F!=null)for(_={},Y=0;Y<N.attributes.length;Y++)_[(L=N.attributes[Y]).name]=L.value;for(Y in _)if(L=_[Y],Y=="children");else if(Y=="dangerouslySetInnerHTML")G=L;else if(!(Y in A)){if(Y=="value"&&"defaultValue"in A||Y=="checked"&&"defaultChecked"in A)continue;QN(N,Y,null,L,K)}for(Y in A)L=A[Y],Y=="children"?B=L:Y=="dangerouslySetInnerHTML"?R=L:Y=="value"?U=L:Y=="checked"?H=L:X&&typeof L!="function"||_[Y]===L||QN(N,Y,L,_[Y],K);if(R)X||G&&(R.__html==G.__html||R.__html==N.innerHTML)||(N.innerHTML=R.__html),Q.__k=[];else if(G&&(N.innerHTML=""),DN(Q.type=="template"?N.content:N,r(B)?B:[B],Q,Z,J,M=="foreignObject"?"http://www.w3.org/1999/xhtml":K,F,O,F?F[0]:Z.__k&&s(Z,0),X,$),F!=null)for(Y=F.length;Y--;)RN(F[Y]);X||(Y="value",M=="progress"&&U==null?N.removeAttribute("value"):U!=null&&(U!==N[Y]||M=="progress"&&!U||M=="option"&&U!=_[Y])&&QN(N,Y,U,_[Y],K),Y="checked",H!=null&&H!=N[Y]&&QN(N,Y,H,_[Y],K))}return N}function UN(N,Q,Z){try{if(typeof N=="function"){var J=typeof N.__u=="function";J&&N.__u(),J&&Q==null||(N.__u=N(Q))}else N.current=Q}catch(K){z.__e(K,Z)}}function hN(N,Q,Z){var J,K;if(z.unmount&&z.unmount(N),(J=N.ref)&&(J.current&&J.current!=N.__e||UN(J,null,Q)),(J=N.__c)!=null){if(J.componentWillUnmount)try{J.componentWillUnmount()}catch(F){z.__e(F,Q)}J.base=J.__P=null}if(J=N.__k)for(K=0;K<J.length;K++)J[K]&&hN(J[K],Q,Z||typeof N.type!="function");Z||RN(N.__e),N.__c=N.__=N.__e=void 0}function f0(N,Q,Z){return this.constructor(N,Z)}function MN(N,Q,Z){var J,K,F,O;Q==document&&(Q=document.documentElement),z.__&&z.__(N,Q),K=(J=typeof Z=="function")?null:Z&&Z.__k||Q.__k,F=[],O=[],WN(Q,N=(!J&&Z||Q).__k=i(p,null,[N]),K||a,a,Q.namespaceURI,!J&&Z?[Z]:K?null:Q.firstChild?KN.call(Q.childNodes):null,F,!J&&Z?Z:K?K.__e:Q.firstChild,J,O),mN(F,N,O)}KN=cN.slice,z={__e:function(N,Q,Z,J){for(var K,F,O;Q=Q.__;)if((K=Q.__c)&&!K.__)try{if((F=K.constructor)&&F.getDerivedStateFromError!=null&&(K.setState(F.getDerivedStateFromError(N)),O=K.__d),K.componentDidCatch!=null&&(K.componentDidCatch(N,J||{}),O=K.__d),O)return K.__E=K}catch(X){N=X}throw N}},bN=0,I0=function(N){return N!=null&&N.constructor==null},c.prototype.setState=function(N,Q){var Z;Z=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=m({},this.state),typeof N=="function"&&(N=N(m({},Z),this.props)),N&&m(Z,N),N!=null&&this.__v&&(Q&&this._sb.push(Q),wN(this))},c.prototype.forceUpdate=function(N){this.__v&&(this.__e=!0,N&&this.__h.push(N),wN(this))},c.prototype.render=p,h=[],EN=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fN=function(N,Q){return N.__v.__b-Q.__v.__b},JN.__r=0,VN=/(PointerCapture)$|Capture$/i,LN=0,$N=yN(!1),BN=yN(!0),w0=0;var e,P,_N,gN,n=0,eN=[],k=z,sN=k.__b,lN=k.__r,oN=k.diffed,aN=k.__c,rN=k.unmount,iN=k.__;function zN(N,Q){k.__h&&k.__h(P,N,n||Q),n=0;var Z=P.__H||(P.__H={__:[],__h:[]});return N>=Z.__.length&&Z.__.push({}),Z.__[N]}function w(N){return n=1,nN(N0,N)}function nN(N,Q,Z){var J=zN(e++,2);if(J.t=N,!J.__c&&(J.__=[Z?Z(Q):N0(void 0,Q),function(X){var $=J.__N?J.__N[0]:J.__[0],Y=J.t($,X);$!==Y&&(J.__N=[Y,J.__[1]],J.__c.setState({}))}],J.__c=P,!P.__f)){var K=function(X,$,Y){if(!J.__c.__H)return!0;var R=J.__c.__H.__.filter(function(B){return!!B.__c});if(R.every(function(B){return!B.__N}))return!F||F.call(this,X,$,Y);var G=J.__c.props!==X;return R.forEach(function(B){if(B.__N){var L=B.__[0];B.__=B.__N,B.__N=void 0,L!==B.__[0]&&(G=!0)}}),F&&F.call(this,X,$,Y)||G};P.__f=!0;var{shouldComponentUpdate:F,componentWillUpdate:O}=P;P.componentWillUpdate=function(X,$,Y){if(this.__e){var R=F;F=void 0,K(X,$,Y),F=R}O&&O.call(this,X,$,Y)},P.shouldComponentUpdate=K}return J.__N||J.__}function t(N,Q){var Z=zN(e++,3);!k.__s&&tN(Z.__H,Q)&&(Z.__=N,Z.u=Q,P.__H.__h.push(Z))}function HN(N){return n=5,TN(function(){return{current:N}},[])}function TN(N,Q){var Z=zN(e++,7);return tN(Z.__H,Q)&&(Z.__=N(),Z.__H=Q,Z.__h=N),Z.__}function b(N,Q){return n=8,TN(function(){return N},Q)}function V0(){for(var N;N=eN.shift();)if(N.__P&&N.__H)try{N.__H.__h.forEach(FN),N.__H.__h.forEach(AN),N.__H.__h=[]}catch(Q){N.__H.__h=[],k.__e(Q,N.__v)}}k.__b=function(N){P=null,sN&&sN(N)},k.__=function(N,Q){N&&Q.__k&&Q.__k.__m&&(N.__m=Q.__k.__m),iN&&iN(N,Q)},k.__r=function(N){lN&&lN(N),e=0;var Q=(P=N.__c).__H;Q&&(_N===P?(Q.__h=[],P.__h=[],Q.__.forEach(function(Z){Z.__N&&(Z.__=Z.__N),Z.u=Z.__N=void 0})):(Q.__h.forEach(FN),Q.__h.forEach(AN),Q.__h=[],e=0)),_N=P},k.diffed=function(N){oN&&oN(N);var Q=N.__c;Q&&Q.__H&&(Q.__H.__h.length&&(eN.push(Q)!==1&&gN===k.requestAnimationFrame||((gN=k.requestAnimationFrame)||c0)(V0)),Q.__H.__.forEach(function(Z){Z.u&&(Z.__H=Z.u),Z.u=void 0})),_N=P=null},k.__c=function(N,Q){Q.some(function(Z){try{Z.__h.forEach(FN),Z.__h=Z.__h.filter(function(J){return!J.__||AN(J)})}catch(J){Q.some(function(K){K.__h&&(K.__h=[])}),Q=[],k.__e(J,Z.__v)}}),aN&&aN(N,Q)},k.unmount=function(N){rN&&rN(N);var Q,Z=N.__c;Z&&Z.__H&&(Z.__H.__.forEach(function(J){try{FN(J)}catch(K){Q=K}}),Z.__H=void 0,Q&&k.__e(Q,Z.__v))};var uN=typeof requestAnimationFrame=="function";function c0(N){var Q,Z=function(){clearTimeout(J),uN&&cancelAnimationFrame(Q),setTimeout(N)},J=setTimeout(Z,35);uN&&(Q=requestAnimationFrame(Z))}function FN(N){var Q=P,Z=N.__c;typeof Z=="function"&&(N.__c=void 0,Z()),P=Q}function AN(N){var Q=P;N.__c=N.__(),P=Q}function tN(N,Q){return!N||N.length!==Q.length||Q.some(function(Z,J){return Z!==N[J]})}function N0(N,Q){return typeof Q=="function"?Q(N):Q}function j0(N,Q){for(var Z in Q)N[Z]=Q[Z];return N}function Q0(N,Q){for(var Z in N)if(Z!=="__source"&&!(Z in Q))return!0;for(var J in Q)if(J!=="__source"&&N[J]!==Q[J])return!0;return!1}function Z0(N,Q){this.props=N,this.context=Q}(Z0.prototype=new c).isPureReactComponent=!0,Z0.prototype.shouldComponentUpdate=function(N,Q){return Q0(this.props,N)||Q0(this.state,Q)};var J0=z.__b;z.__b=function(N){N.type&&N.type.__f&&N.ref&&(N.props.ref=N.ref,N.ref=null),J0&&J0(N)};var LQ=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var m0=z.__e;z.__e=function(N,Q,Z,J){if(N.then){for(var K,F=Q;F=F.__;)if((K=F.__c)&&K.__c)return Q.__e==null&&(Q.__e=Z.__e,Q.__k=Z.__k),K.__c(N,Q)}m0(N,Q,Z,J)};var K0=z.unmount;function Y0(N,Q,Z){return N&&(N.__c&&N.__c.__H&&(N.__c.__H.__.forEach(function(J){typeof J.__c=="function"&&J.__c()}),N.__c.__H=null),(N=j0({},N)).__c!=null&&(N.__c.__P===Z&&(N.__c.__P=Q),N.__c.__e=!0,N.__c=null),N.__k=N.__k&&N.__k.map(function(J){return Y0(J,Q,Z)})),N}function $0(N,Q,Z){return N&&Z&&(N.__v=null,N.__k=N.__k&&N.__k.map(function(J){return $0(J,Q,Z)}),N.__c&&N.__c.__P===Q&&(N.__e&&Z.appendChild(N.__e),N.__c.__e=!0,N.__c.__P=Z)),N}function PN(){this.__u=0,this.o=null,this.__b=null}function B0(N){var Q=N.__.__c;return Q&&Q.__a&&Q.__a(N)}function GN(){this.i=null,this.l=null}z.unmount=function(N){var Q=N.__c;Q&&Q.__R&&Q.__R(),Q&&32&N.__u&&(N.type=null),K0&&K0(N)},(PN.prototype=new c).__c=function(N,Q){var Z=Q.__c,J=this;J.o==null&&(J.o=[]),J.o.push(Z);var K=B0(J.__v),F=!1,O=function(){F||(F=!0,Z.__R=null,K?K(X):X())};Z.__R=O;var X=function(){if(!--J.__u){if(J.state.__a){var $=J.state.__a;J.__v.__k[0]=$0($,$.__c.__P,$.__c.__O)}var Y;for(J.setState({__a:J.__b=null});Y=J.o.pop();)Y.forceUpdate()}};J.__u++||32&Q.__u||J.setState({__a:J.__b=J.__v.__k[0]}),N.then(O,O)},PN.prototype.componentWillUnmount=function(){this.o=[]},PN.prototype.render=function(N,Q){if(this.__b){if(this.__v.__k){var Z=document.createElement("div"),J=this.__v.__k[0].__c;this.__v.__k[0]=Y0(this.__b,Z,J.__O=J.__P)}this.__b=null}var K=Q.__a&&i(p,null,N.fallback);return K&&(K.__u&=-33),[i(p,null,Q.__a?null:N.children),K]};var F0=function(N,Q,Z){if(++Z[1]===Z[0]&&N.l.delete(Q),N.props.revealOrder&&(N.props.revealOrder[0]!=="t"||!N.l.size))for(Z=N.i;Z;){for(;Z.length>3;)Z.pop()();if(Z[1]<Z[0])break;N.i=Z=Z[2]}};(GN.prototype=new c).__a=function(N){var Q=this,Z=B0(Q.__v),J=Q.l.get(N);return J[0]++,function(K){var F=function(){Q.props.revealOrder?(J.push(K),F0(Q,N,J)):K()};Z?Z(F):F()}},GN.prototype.render=function(N){this.i=null,this.l=new Map;var Q=u(N.children);N.revealOrder&&N.revealOrder[0]==="b"&&Q.reverse();for(var Z=Q.length;Z--;)this.l.set(Q[Z],this.i=[1,0,this.i]);return N.children},GN.prototype.componentDidUpdate=GN.prototype.componentDidMount=function(){var N=this;this.l.forEach(function(Q,Z){F0(N,Z,Q)})};var x0=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,h0=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,g0=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,s0=/[A-Z0-9]/g,l0=typeof document!="undefined",o0=function(N){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(N)};c.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(N){Object.defineProperty(c.prototype,N,{configurable:!0,get:function(){return this["UNSAFE_"+N]},set:function(Q){Object.defineProperty(this,N,{configurable:!0,writable:!0,value:Q})}})});var G0=z.event;function a0(){}function r0(){return this.cancelBubble}function i0(){return this.defaultPrevented}z.event=function(N){return G0&&(N=G0(N)),N.persist=a0,N.isPropagationStopped=r0,N.isDefaultPrevented=i0,N.nativeEvent=N};var L0,u0={enumerable:!1,configurable:!0,get:function(){return this.class}},O0=z.vnode;z.vnode=function(N){typeof N.type=="string"&&function(Q){var{props:Z,type:J}=Q,K={},F=J.indexOf("-")===-1;for(var O in Z){var X=Z[O];if(!(O==="value"&&("defaultValue"in Z)&&X==null||l0&&O==="children"&&J==="noscript"||O==="class"||O==="className")){var $=O.toLowerCase();O==="defaultValue"&&"value"in Z&&Z.value==null?O="value":O==="download"&&X===!0?X="":$==="translate"&&X==="no"?X=!1:$[0]==="o"&&$[1]==="n"?$==="ondoubleclick"?O="ondblclick":$!=="onchange"||J!=="input"&&J!=="textarea"||o0(Z.type)?$==="onfocus"?O="onfocusin":$==="onblur"?O="onfocusout":g0.test(O)&&(O=$):$=O="oninput":F&&h0.test(O)?O=O.replace(s0,"-$&").toLowerCase():X===null&&(X=void 0),$==="oninput"&&K[O=$]&&(O="oninputCapture"),K[O]=X}}J=="select"&&K.multiple&&Array.isArray(K.value)&&(K.value=u(Z.children).forEach(function(Y){Y.props.selected=K.value.indexOf(Y.props.value)!=-1})),J=="select"&&K.defaultValue!=null&&(K.value=u(Z.children).forEach(function(Y){Y.props.selected=K.multiple?K.defaultValue.indexOf(Y.props.value)!=-1:K.defaultValue==Y.props.value})),Z.class&&!Z.className?(K.class=Z.class,Object.defineProperty(K,"className",u0)):(Z.className&&!Z.class||Z.class&&Z.className)&&(K.class=K.className=Z.className),Q.props=K}(N),N.$$typeof=x0,O0&&O0(N)};var X0=z.__r;z.__r=function(N){X0&&X0(N),L0=N.__c};var q0=z.diffed;z.diffed=function(N){q0&&q0(N);var{props:Q,__e:Z}=N;Z!=null&&N.type==="textarea"&&"value"in Q&&Q.value!==Z.value&&(Z.value=Q.value==null?"":Q.value),L0=null};var e0=0;function q(N,Q,Z,J,K,F){Q||(Q={});var O,X,$=Q;if("ref"in $)for(X in $={},Q)X=="ref"?O=Q[X]:$[X]=Q[X];var Y={type:N,props:$,key:Z,ref:O,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--e0,__i:-1,__u:0,__source:K,__self:F};if(typeof N=="function"&&(O=N.defaultProps))for(X in O)$[X]===void 0&&($[X]=O[X]);return z.vnode&&z.vnode(Y),Y}function R0(){return q("header",{className:"header",children:[q("h1",{children:"\uD83D\uDD0D Quick VRT"},void 0,!1,void 0,this),q("p",{children:"Visual Regression Testing"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}function W0({onNavigate:N,isInTab:Q=!1}){let Z=[{action:"new-comparison",icon:"\uD83D\uDCF8",title:"新しい比較",description:"Before/After画像を撮影して比較"},{action:"history",icon:"\uD83D\uDCCA",title:"履歴を確認",description:"過去の比較結果を表示"},{action:"settings",icon:"⚙️",title:"設定",description:"撮影オプション等の設定"}];if(!Q)Z.push({action:"open-in-tab",icon:"\uD83D\uDD17",title:"タブで開く",description:"タブを切り替えても継続使用可能"});let J=async(K)=>{switch(K){case"new-comparison":N("comparison-view");break;case"history":N("history-view");break;case"settings":N("settings-view");break;case"open-in-tab":chrome.runtime.sendMessage({type:"OPEN_IN_TAB"}),window.close();break}};return q("div",{className:"main-menu",children:Z.map((K)=>q("div",{className:"menu-item",onClick:()=>J(K.action),children:[q("div",{className:"menu-icon",children:K.icon},void 0,!1,void 0,this),q("div",{children:[q("div",{className:"menu-title",children:K.title},void 0,!1,void 0,this),q("div",{className:"menu-desc",children:K.description},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},K.action,!0,void 0,this))},void 0,!1,void 0,this)}function U0(N){var Q,Z,J="";if(typeof N=="string"||typeof N=="number")J+=N;else if(typeof N=="object")if(Array.isArray(N)){var K=N.length;for(Q=0;Q<K;Q++)N[Q]&&(Z=U0(N[Q]))&&(J&&(J+=" "),J+=Z)}else for(Z in N)N[Z]&&(J&&(J+=" "),J+=Z);return J}function n0(){for(var N,Q,Z=0,J="",K=arguments.length;Z<K;Z++)(N=arguments[Z])&&(Q=U0(N))&&(J&&(J+=" "),J+=Q);return J}var l=n0;function M0({currentStep:N}){return q("div",{className:"step-indicator",children:[{number:1,label:"1. Before"},{number:2,label:"2. After"},{number:3,label:"3. 比較"}].map((Z)=>q("div",{className:l("step",{active:Z.number===N,completed:Z.number<N}),children:Z.label},Z.number,!1,void 0,this))},void 0,!1,void 0,this)}function kN({image:N,type:Q,onRetake:Z,onNext:J,className:K}){if(!N)return null;return q("div",{className:l("image-preview",K),children:[q("img",{src:N.dataUrl,alt:`${Q} screenshot`,className:"preview-image"},void 0,!1,void 0,this),q("div",{className:"preview-actions",children:[q("button",{className:"btn secondary",onClick:Z,children:"撮り直し"},void 0,!1,void 0,this),J&&q("button",{className:"btn primary",onClick:J,children:"次へ →"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function _0({activeTab:N,onTabChange:Q}){return q("div",{className:"comparison-tabs",children:[{id:"side-by-side",label:"並列表示"},{id:"slider",label:"スライダー"},{id:"diff-only",label:"差分のみ"}].map((J)=>q("button",{className:l("tab-btn",{active:N===J.id}),onClick:()=>Q(J.id),children:J.label},J.id,!1,void 0,this))},void 0,!1,void 0,this)}function A0({result:N,beforeImage:Q,afterImage:Z,activeTab:J}){let K=HN(null);t(()=>{if(J==="slider"&&K.current)F()},[J]);let F=()=>{let Y=K.current;if(!Y)return;let R=Y.querySelector(".slider-handle"),G=Y.querySelector(".slider-after");if(!R||!G)return;let B=!1,L=(H)=>{if(!B)return;let _=Y.getBoundingClientRect(),A=H.clientX-_.left,M=Math.max(0,Math.min(100,A/_.width*100));R.style.left=M+"%",G.style.clipPath=`inset(0 ${100-M}% 0 0)`},U=()=>{B=!1,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",U)};R.addEventListener("mousedown",(H)=>{B=!0,H.preventDefault(),document.addEventListener("mousemove",L),document.addEventListener("mouseup",U)})},O=()=>q("div",{className:"side-by-side-view",children:[q("div",{className:"image-column",children:[q("div",{className:"image-label",children:"Before"},void 0,!1,void 0,this),q("img",{src:Q.dataUrl,alt:"Before",className:"comparison-image"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"image-column",children:[q("div",{className:"image-label",children:"After"},void 0,!1,void 0,this),q("img",{src:Z.dataUrl,alt:"After",className:"comparison-image"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"image-column",children:[q("div",{className:"image-label",children:"Diff"},void 0,!1,void 0,this),q("img",{src:N.diffImageUrl,alt:"Diff",className:"comparison-image"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),X=()=>q("div",{className:"slider-view",ref:K,children:[q("img",{src:Q.dataUrl,alt:"Before",className:"slider-before"},void 0,!1,void 0,this),q("img",{src:Z.dataUrl,alt:"After",className:"slider-after"},void 0,!1,void 0,this),q("div",{className:"slider-handle",children:q("div",{className:"slider-handle-circle"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),$=()=>q("div",{className:"diff-only-view",children:[q("div",{className:"image-label",children:"差分のみ表示"},void 0,!1,void 0,this),q("img",{src:N.diffImageUrl,alt:"Diff",className:"comparison-image"},void 0,!1,void 0,this)]},void 0,!0,void 0,this);return q("div",{className:"comparison-container",children:[J==="side-by-side"&&O(),J==="slider"&&X(),J==="diff-only"&&$()]},void 0,!0,void 0,this)}function z0({show:N,text:Q="処理中..."}){if(!N)return null;return q("div",{className:"loading-overlay",children:q("div",{className:"loading-content",children:[q("div",{className:"spinner"},void 0,!1,void 0,this),q("div",{className:"loading-text",children:Q},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}class d{static async captureScreenshot(N={}){return new Promise((Q,Z)=>{chrome.tabs.captureVisibleTab(null,{format:"png"},(J)=>{if(chrome.runtime.lastError)Z(new Error(chrome.runtime.lastError.message));else if(J)chrome.tabs.query({active:!0,currentWindow:!0},(K)=>{let F=K[0];Q({dataUrl:J,timestamp:Date.now(),url:F?.url||""})});else Z(new Error("スクリーンショットの撮影に失敗しました"))})})}static async getCurrentTab(){return new Promise((N)=>{chrome.tabs.query({active:!0,currentWindow:!0},(Q)=>{let Z=Q[0];N({id:Z?.id,url:Z?.url,title:Z?.title,favIconUrl:Z?.favIconUrl,status:Z?.status})})})}static async sendMessage(N){return new Promise((Q)=>{chrome.runtime.sendMessage(N,(Z)=>{if(chrome.runtime.lastError)Q({success:!1,error:chrome.runtime.lastError.message});else Q(Z||{success:!1,error:"No response"})})})}static async sendTabMessage(N,Q){return new Promise((Z)=>{chrome.tabs.sendMessage(N,Q,(J)=>{if(chrome.runtime.lastError)Z({success:!1,error:chrome.runtime.lastError.message});else Z(J||{success:!1,error:"No response"})})})}static async saveSettings(N){return new Promise((Q,Z)=>{chrome.storage.local.set({vrtSettings:N},()=>{if(chrome.runtime.lastError)Z(new Error(chrome.runtime.lastError.message));else Q()})})}static async loadSettings(){return new Promise((N)=>{let Q={captureDelay:1,imageQuality:"medium",autoScroll:!1,diffThreshold:0.1,diffColor:"#ff0000"};chrome.storage.local.get("vrtSettings",(Z)=>{if(chrome.runtime.lastError)N(Q);else N({...Q,...Z.vrtSettings})})})}static async saveToHistory(N){return new Promise((Q,Z)=>{chrome.storage.local.get("vrtHistory",(J)=>{if(chrome.runtime.lastError){Z(new Error(chrome.runtime.lastError.message));return}let K=J.vrtHistory||[],F={...N,id:Date.now().toString()};if(K.unshift(F),K.length>20)K.length=20;chrome.storage.local.set({vrtHistory:K},()=>{if(chrome.runtime.lastError)Z(new Error(chrome.runtime.lastError.message));else Q()})})})}static async loadHistory(){return new Promise((N)=>{chrome.storage.local.get("vrtHistory",(Q)=>{if(chrome.runtime.lastError)N([]);else N(Q.vrtHistory||[])})})}static async downloadFile(N,Q){return new Promise((Z,J)=>{let K=URL.createObjectURL(N);chrome.downloads.download({url:K,filename:Q,saveAs:!0},(F)=>{if(URL.revokeObjectURL(K),chrome.runtime.lastError)J(new Error(chrome.runtime.lastError.message));else Z()})})}static async showNotification(N,Q){return new Promise((Z)=>{chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:N,message:Q},()=>{Z()})})}}var t0={threshold:0.1,includeAA:!1,alpha:0.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function XN(N,Q,Z,J,K,F){if(!vN(N)||!vN(Q)||Z&&!vN(Z))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(N.length!==Q.length||Z&&Z.length!==N.length)throw new Error("Image sizes do not match.");if(N.length!==J*K*4)throw new Error("Image data size does not match width/height.");F=Object.assign({},t0,F);let O=J*K,X=new Uint32Array(N.buffer,N.byteOffset,O),$=new Uint32Array(Q.buffer,Q.byteOffset,O),Y=!0;for(let B=0;B<O;B++)if(X[B]!==$[B]){Y=!1;break}if(Y){if(Z&&!F.diffMask)for(let B=0;B<O;B++)k0(N,4*B,F.alpha,Z);return 0}let R=35215*F.threshold*F.threshold,G=0;for(let B=0;B<K;B++)for(let L=0;L<J;L++){let U=(B*J+L)*4,H=v0(N,Q,U,U);if(Math.abs(H)>R)if(!F.includeAA&&(H0(N,L,B,J,K,Q)||H0(Q,L,B,J,K,N))){if(Z&&!F.diffMask)SN(Z,U,...F.aaColor)}else{if(Z)SN(Z,U,...H<0&&F.diffColorAlt||F.diffColor);G++}else if(Z){if(!F.diffMask)k0(N,U,F.alpha,Z)}}return G}function vN(N){return ArrayBuffer.isView(N)&&N.constructor.BYTES_PER_ELEMENT===1}function H0(N,Q,Z,J,K,F){let O=Math.max(Q-1,0),X=Math.max(Z-1,0),$=Math.min(Q+1,J-1),Y=Math.min(Z+1,K-1),R=(Z*J+Q)*4,G=Q===O||Q===$||Z===X||Z===Y?1:0,B=0,L=0,U,H,_,A;for(let M=O;M<=$;M++)for(let v=X;v<=Y;v++){if(M===Q&&v===Z)continue;let C=v0(N,N,R,(v*J+M)*4,!0);if(C===0){if(G++,G>2)return!1}else if(C<B)B=C,U=M,H=v;else if(C>L)L=C,_=M,A=v}if(B===0||L===0)return!1;return ON(N,U,H,J,K)&&ON(F,U,H,J,K)||ON(N,_,A,J,K)&&ON(F,_,A,J,K)}function ON(N,Q,Z,J,K){let F=Math.max(Q-1,0),O=Math.max(Z-1,0),X=Math.min(Q+1,J-1),$=Math.min(Z+1,K-1),Y=(Z*J+Q)*4,R=Q===F||Q===X||Z===O||Z===$?1:0;for(let G=F;G<=X;G++)for(let B=O;B<=$;B++){if(G===Q&&B===Z)continue;let L=(B*J+G)*4;if(N[Y]===N[L]&&N[Y+1]===N[L+1]&&N[Y+2]===N[L+2]&&N[Y+3]===N[L+3])R++;if(R>2)return!0}return!1}function v0(N,Q,Z,J,K){let F=N[Z+0],O=N[Z+1],X=N[Z+2],$=N[Z+3],Y=Q[J+0],R=Q[J+1],G=Q[J+2],B=Q[J+3];if($===B&&F===Y&&O===R&&X===G)return 0;if($<255)$/=255,F=g(F,$),O=g(O,$),X=g(X,$);if(B<255)B/=255,Y=g(Y,B),R=g(R,B),G=g(G,B);let L=CN(F,O,X),U=CN(Y,R,G),H=L-U;if(K)return H;let _=T0(F,O,X)-T0(Y,R,G),A=P0(F,O,X)-P0(Y,R,G),M=0.5053*H*H+0.299*_*_+0.1957*A*A;return L>U?-M:M}function CN(N,Q,Z){return N*0.29889531+Q*0.58662247+Z*0.11448223}function T0(N,Q,Z){return N*0.59597799-Q*0.2741761-Z*0.32180189}function P0(N,Q,Z){return N*0.21147017-Q*0.52261711+Z*0.31114694}function g(N,Q){return 255+(N-255)*Q}function SN(N,Q,Z,J,K){N[Q+0]=Z,N[Q+1]=J,N[Q+2]=K,N[Q+3]=255}function k0(N,Q,Z,J){let K=N[Q+0],F=N[Q+1],O=N[Q+2],X=g(CN(K,F,O),Z*N[Q+3]/255);SN(J,Q,X,X,X)}class qN{static async dataUrlToImageData(N){return new Promise((Q,Z)=>{let J=new Image;J.onload=()=>{let K=document.createElement("canvas"),F=K.getContext("2d");if(!F){Z(new Error("Canvas context not available"));return}K.width=J.width,K.height=J.height,F.drawImage(J,0,0);let O=F.getImageData(0,0,J.width,J.height);Q(O)},J.onerror=()=>Z(new Error("Failed to load image")),J.src=N})}static async compareImages(N,Q,Z={}){let J=Z.threshold??0.1,K=Z.diffColor??"#ff0000",F=await this.dataUrlToImageData(N.dataUrl),O=await this.dataUrlToImageData(Q.dataUrl),X=Math.max(F.width,O.width),$=Math.max(F.height,O.height),Y=this.normalizeImageData(F,X,$),R=this.normalizeImageData(O,X,$),G=new Uint8ClampedArray(X*$*4),B=XN(Y.data,R.data,G,X,$,{threshold:J}),L=document.createElement("canvas");L.width=X,L.height=$;let U=L.getContext("2d"),H=new ImageData(G,X,$);U.putImageData(H,0,0);let _=X*$,A=(B/_*100).toFixed(2);return{diffPixels:B,diffPercentage:A,totalPixels:_,diffImageUrl:L.toDataURL(),beforeUrl:N.url,afterUrl:Q.url,timestamp:Date.now()}}static normalizeImageData(N,Q,Z){if(N.width===Q&&N.height===Z)return N;let J=document.createElement("canvas"),K=J.getContext("2d");J.width=N.width,J.height=N.height,K.putImageData(N,0,0);let F=document.createElement("canvas"),O=F.getContext("2d");F.width=Q,F.height=Z,O.fillStyle="#ffffff",O.fillRect(0,0,Q,Z);let X=Math.max(0,(Q-N.width)/2),$=Math.max(0,(Z-N.height)/2);return O.drawImage(J,X,$),O.getImageData(0,0,Q,Z)}static async compareImagesAdvanced(N,Q,Z={}){let{threshold:J=0.1,diffColor:K="#ff0000",includeAA:F=!1,alpha:O=0.1}=Z,X=await this.dataUrlToImageData(N.dataUrl),$=await this.dataUrlToImageData(Q.dataUrl),Y=Math.max(X.width,$.width),R=Math.max(X.height,$.height),G=this.normalizeImageData(X,Y,R),B=this.normalizeImageData($,Y,R),L=new Uint8ClampedArray(Y*R*4),U=XN(G.data,B.data,L,Y,R,{threshold:J,includeAA:F,alpha:O,diffColor:this.hexToRgb(K),diffColorAlt:null}),H=document.createElement("canvas");H.width=Y,H.height=R;let _=H.getContext("2d"),A=new ImageData(L,Y,R);_.putImageData(A,0,0);let M=Y*R,v=(U/M*100).toFixed(2);return{diffPixels:U,diffPercentage:v,totalPixels:M,diffImageUrl:H.toDataURL(),beforeUrl:N.url,afterUrl:Q.url,timestamp:Date.now()}}static hexToRgb(N){let Q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(N);return Q?[parseInt(Q[1],16),parseInt(Q[2],16),parseInt(Q[3],16)]:[255,0,0]}static generateReportHtml(N,Q,Z){let J=new Date(N.timestamp).toLocaleString();return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>VRT Report - ${J}</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 20px; 
            background: #f5f7fa; 
            color: #2c3e50;
        }
        .header { 
            text-align: center; 
            margin-bottom: 30px; 
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stats { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        .stat { 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-top: 8px;
        }
        .images { 
            display: grid; 
            grid-template-columns: 1fr 1fr 1fr; 
            gap: 20px; 
        }
        .image-section { 
            background: white; 
            padding: 15px; 
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .image-section h3 { 
            margin-bottom: 10px; 
            text-align: center; 
            color: #2c3e50;
        }
        .image-section img { 
            width: 100%; 
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        .url-info {
            font-size: 12px;
            color: #7f8c8d;
            word-break: break-all;
            margin-bottom: 10px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 4px;
        }
        @media (max-width: 1024px) {
            .images {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>\uD83D\uDCF8 Visual Regression Test Report</h1>
        <p>Generated on ${J}</p>
    </div>
    
    <div class="stats">
        <div class="stat">
            <h3>差分率</h3>
            <div class="stat-value" style="color: ${parseFloat(N.diffPercentage)>5?"#e74c3c":"#27ae60"}">${N.diffPercentage}%</div>
        </div>
        <div class="stat">
            <h3>変更ピクセル数</h3>
            <div class="stat-value">${N.diffPixels.toLocaleString()}</div>
        </div>
        <div class="stat">
            <h3>総ピクセル数</h3>
            <div class="stat-value">${N.totalPixels.toLocaleString()}</div>
        </div>
    </div>
    
    <div class="images">
        <div class="image-section">
            <h3>\uD83D\uDD35 Before</h3>
            <div class="url-info">${N.beforeUrl}</div>
            <img src="${Q.dataUrl}" alt="Before screenshot">
        </div>
        <div class="image-section">
            <h3>\uD83D\uDFE0 After</h3>
            <div class="url-info">${N.afterUrl}</div>
            <img src="${Z.dataUrl}" alt="After screenshot">
        </div>
        <div class="image-section">
            <h3>\uD83D\uDD34 Diff</h3>
            <div class="url-info">差分をハイライト表示</div>
            <img src="${N.diffImageUrl}" alt="Diff visualization">
        </div>
    </div>
</body>
</html>`}}function C0(){let[N,Q]=w("main-menu"),[Z,J]=w(1),[K,F]=w("side-by-side"),[O,X]=w(!1),[$,Y]=w("処理中..."),[R,G]=w(null),[B,L]=w(null),[U,H]=w(null),[_,A]=w({captureDelay:1,imageQuality:"medium",autoScroll:!1,diffThreshold:0.1,diffColor:"#ff0000"}),[M,v]=w([]),[C,E]=w(""),y=b(async()=>{try{let[W,I,o]=await Promise.all([d.loadSettings(),d.loadHistory(),d.getCurrentTab()]);A(W),v(I),E(o.url||"")}catch(W){console.error("初期化エラー:",W)}},[]),f=b((W)=>{if(Q(W),W==="comparison-view")J(1),G(null),L(null),H(null),F("side-by-side"),V();else if(W==="history-view")NN()},[]),V=b(async()=>{try{let W=await d.getCurrentTab();E(W.url||"")}catch(W){console.error("URL取得エラー:",W)}},[]),D=b(async(W)=>{X(!0),Y(`${W}スクリーンショットを撮影中...`);try{if(_.captureDelay>0)await new Promise((o)=>setTimeout(o,_.captureDelay*1000));let I=await d.captureScreenshot({imageQuality:_.imageQuality,autoScroll:_.autoScroll});if(W==="before")G(I);else L(I);return I}catch(I){throw console.error(`${W}スクリーンショット撮影エラー:`,I),I}finally{X(!1)}},[_]),x=b((W)=>{if(J(W),W===2)V()},[V]),S=b(async()=>{if(!R||!B)throw new Error("Before/After画像が不足しています");X(!0),Y("画像を比較中...");try{let W=await qN.compareImagesAdvanced(R,B,{threshold:_.diffThreshold,diffColor:_.diffColor,includeAA:!1,alpha:0.1});return H(W),J(3),await d.saveToHistory({timestamp:W.timestamp,beforeUrl:W.beforeUrl,afterUrl:W.afterUrl,diffPercentage:W.diffPercentage,diffPixels:W.diffPixels,beforeImageData:R.dataUrl,afterImageData:B.dataUrl,diffImageUrl:W.diffImageUrl}),W}catch(W){throw console.error("画像比較エラー:",W),W}finally{X(!1)}},[R,B,_]),j=b(async()=>{if(!U||!R||!B)return;try{let W=new Date().toISOString().replace(/[:.]/g,"-"),I=qN.generateReportHtml(U,R,B),o=new Blob([I],{type:"text/html"});await d.downloadFile(o,`vrt-report-${W}.html`),await d.showNotification("Quick VRT","レポートを保存しました")}catch(W){throw console.error("保存エラー:",W),W}},[U,R,B]),YN=b(async(W)=>{try{await d.saveSettings(W),A(W),await d.showNotification("Quick VRT","設定を保存しました")}catch(I){throw console.error("設定保存エラー:",I),I}},[]),NN=b(async()=>{try{let W=await d.loadHistory();v(W)}catch(W){console.error("履歴読み込みエラー:",W)}},[]),T=b(()=>{f("comparison-view")},[f]);return{currentView:N,currentStep:Z,activeTab:K,loading:O,loadingText:$,beforeImage:R,afterImage:B,comparisonResult:U,settings:_,history:M,currentUrl:C,initialize:y,navigateTo:f,updateCurrentUrl:V,captureScreenshot:D,goToStep:x,compareImages:S,saveResult:j,saveSettings:YN,loadHistory:NN,startNewComparison:T,setActiveTab:F}}function NQ(){let{currentView:N,currentStep:Q,activeTab:Z,loading:J,loadingText:K,beforeImage:F,afterImage:O,comparisonResult:X,settings:$,history:Y,currentUrl:R,initialize:G,navigateTo:B,updateCurrentUrl:L,captureScreenshot:U,goToStep:H,compareImages:_,saveResult:A,saveSettings:M,loadHistory:v,startNewComparison:C,setActiveTab:E}=C0();t(()=>{G()},[G]);let y=(T,W)=>{console.error(`${W}:`,T),alert(`エラー: ${T.message}`)},f=async(T)=>{try{await U(T)}catch(W){y(W,`${T}スクリーンショット撮影`)}},V=async()=>{try{await _()}catch(T){y(T,"画像比較")}},D=async()=>{try{await A()}catch(T){y(T,"結果保存")}},x=async(T)=>{try{await M(T)}catch(W){y(W,"設定保存")}},S=()=>q("div",{className:"view",children:q(W0,{onNavigate:B},void 0,!1,void 0,this)},void 0,!1,void 0,this),j=()=>q("div",{className:"view",children:[q("div",{className:"header-with-back",children:[q("button",{className:"back-btn",onClick:()=>B("main-menu"),children:"← 戻る"},void 0,!1,void 0,this),q("h2",{children:"比較設定"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q(M0,{currentStep:Q},void 0,!1,void 0,this),Q===1&&q("div",{className:"step-content",children:[q("div",{className:"current-page-info",children:[q("div",{className:"page-title",children:"現在のページ:"},void 0,!1,void 0,this),q("div",{className:"page-url",children:R||"読み込み中..."},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"action-buttons",children:q("button",{className:"btn primary",onClick:()=>f("before"),disabled:J,children:"\uD83D\uDCF7 Beforeスクリーンショット"},void 0,!1,void 0,this)},void 0,!1,void 0,this),q(kN,{image:F,type:"before",onRetake:()=>f("before"),onNext:()=>H(2)},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Q===2&&q("div",{className:"step-content",children:[q("div",{className:"instruction",children:[q("p",{children:"比較したいページに移動してください"},void 0,!1,void 0,this),q("p",{className:"small-text",children:"タブを切り替えるか、新しいURLに移動してからスクリーンショットを撮影"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"current-page-info",children:[q("div",{className:"page-title",children:"現在のページ:"},void 0,!1,void 0,this),q("div",{className:"page-url",children:R||"読み込み中..."},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"action-buttons",children:q("button",{className:"btn primary",onClick:()=>f("after"),disabled:J,children:"\uD83D\uDCF7 Afterスクリーンショット"},void 0,!1,void 0,this)},void 0,!1,void 0,this),q(kN,{image:O,type:"after",onRetake:()=>f("after"),onNext:V},void 0,!1,void 0,this)]},void 0,!0,void 0,this),Q===3&&X&&q("div",{className:"step-content",children:[q("div",{className:"result-stats",children:[q("div",{className:"stat",children:[q("div",{className:"stat-label",children:"差分率"},void 0,!1,void 0,this),q("div",{className:"stat-value",children:[X.diffPercentage,"%"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"stat",children:[q("div",{className:"stat-label",children:"変更ピクセル数"},void 0,!1,void 0,this),q("div",{className:"stat-value",children:X.diffPixels.toLocaleString()},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q(_0,{activeTab:Z,onTabChange:E},void 0,!1,void 0,this),q(A0,{result:X,beforeImage:F,afterImage:O,activeTab:Z},void 0,!1,void 0,this),q("div",{className:"result-actions",children:[q("button",{className:"btn primary",onClick:D,children:"\uD83D\uDCC1 結果を保存"},void 0,!1,void 0,this),q("button",{className:"btn secondary",onClick:C,children:"新しい比較"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),YN=()=>q("div",{className:"view",children:[q("div",{className:"header-with-back",children:[q("button",{className:"back-btn",onClick:()=>B("main-menu"),children:"← 戻る"},void 0,!1,void 0,this),q("h2",{children:"比較履歴"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"history-list",children:Y.length===0?q("div",{className:"empty-state",children:[q("div",{className:"empty-icon",children:"\uD83D\uDCCA"},void 0,!1,void 0,this),q("div",{className:"empty-text",children:"比較履歴がありません"},void 0,!1,void 0,this),q("div",{className:"empty-desc",children:"まずは新しい比較を実行してください"},void 0,!1,void 0,this)]},void 0,!0,void 0,this):Y.map((T)=>q("div",{className:"history-item",children:[q("div",{className:"history-date",children:new Date(T.timestamp).toLocaleString()},void 0,!1,void 0,this),q("div",{className:"history-urls",children:[q("div",{children:["Before: ",T.beforeUrl.substring(0,50),"..."]},void 0,!0,void 0,this),q("div",{children:["After: ",T.afterUrl.substring(0,50),"..."]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"history-diff",children:["差分: ",T.diffPercentage,"% (",T.diffPixels.toLocaleString()," pixels)"]},void 0,!0,void 0,this)]},T.id,!0,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this),NN=()=>q("div",{className:"view",children:[q("div",{className:"header-with-back",children:[q("button",{className:"back-btn",onClick:()=>B("main-menu"),children:"← 戻る"},void 0,!1,void 0,this),q("h2",{children:"設定"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"settings-form",children:[q("div",{className:"settings-section",children:[q("h3",{children:"スクリーンショット設定"},void 0,!1,void 0,this),q("div",{className:"setting-item",children:[q("label",{htmlFor:"capture-delay",children:"撮影遅延 (秒)"},void 0,!1,void 0,this),q("input",{type:"number",id:"capture-delay",min:"0",max:"10",step:"0.1",value:$.captureDelay,onChange:(T)=>E&&E("side-by-side")},void 0,!1,void 0,this),q("small",{children:"ページ読み込み後の待機時間"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),q("div",{className:"settings-actions",children:q("button",{className:"btn primary",onClick:()=>x($),children:"設定を保存"},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this);return q("div",{className:"container",children:[q(R0,{},void 0,!1,void 0,this),N==="main-menu"&&S(),N==="comparison-view"&&j(),N==="history-view"&&YN(),N==="settings-view"&&NN(),q(z0,{show:J,text:K},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}var S0=document.getElementById("popup-root");if(S0)MN(q(NQ,{},void 0,!1,void 0,this),S0);

//# debugId=C9D5E72E1828B33064756E2164756E21
//# sourceMappingURL=popup.js.map
